---
layout: post
title: Ubuntu 批量重命名操作指南
abbrlink: 63c6cd2b59374eefa390a099f14fe75b
tags:
  - linux
categories:
  - Linux
date: 1749460708153
updated: 1749461019988
---

## 基础替换命令

```bash
# 将当前目录所有文件名的 "wxga" 替换为 "nid"
rename 's/wxga/nid/' *
```

### 参数解析：

- `'s/原字符串/新字符串/'`：sed 替换语法

- `*`：作用于当前目录所有文件

- `-n` 参数：测试模式（预览变化不实际执行）

```bash
rename -n 's/wxga/nid/' *  # 安全预览
```

***

## 进阶用法示例

### 1. 添加前缀/后缀

```bash
# 添加前缀 (所有.txt文件加"bak_")
rename 's/^/bak_/' *.txt

# 添加后缀 (所有.jpg文件加"_2024")
rename 's/$/_2024/' *.jpg
```

### 2. 大小写转换

```bash
# 全部转小写
rename 'y/A-Z/a-z/' *

# 全部转大写
rename 'y/a-z/A-Z/' *
```

### 3. 正则表达式替换

```bash
# 删除所有数字
rename 's/[0-9]//g' *

# 保留后4位字符 (将 "photo1234.jpg" → "1234.jpg")
rename 's/.*(.{4})$/$1/' *
```

### 4. 修改特定位置

```bash
# 替换第3-5个字符为 "XXX"
rename 's/^(.{2}).{3}/$1XXX/' *
```

***

## 替代方案：`mmv` 命令

```bash
sudo apt install mmv  # 安装

# 批量修改扩展名 (jpg → png)
mmv "*.jpg" "#1.png"

# 结构化重命名 (img_1.txt → 2024_img_001.txt)
mmv "img_*.txt" "2024_img_#1.txt"
```

***

## ⚠️ 注意事项

1. **先预览后执行**：始终先用 `-n` 参数测试

2. **特殊字符转义**：对 `[ ] ( ) $ .` 等字符使用反斜杠转义

```bash
rename 's/\[old\]/new/' *  # 处理 [old]
```

3. **备份数据**：重要文件操作前建议备份

4. **作用范围**：`*` 包含隐藏文件（以点开头的文件）

> 💡 **提示**：使用 `ls` 确认文件列表后再执行重命名

### 使用说明：

1. 在 Ubuntu 中需要安装 `rename` 工具（通常已预装）：
   ```bash
   sudo apt install rename  # 如果未安装
   ```
2. 此笔记包含：

   - 基础替换语法

   - 正则表达式进阶用法

   - 替代工具 mmv

   - 安全操作指南
