---
title: Android 9.0 开机直接进入指定 APK (非 Launcher) 修改方案
slug: 907de6a16a704b7996000c4b1635ef7a
tags:
  - aosp
  - android
date: 2025-07-02T08:19:24.039Z
---

## 修改目的

实现设备开机后自动跳过默认 Launcher，直接进入指定应用（本例为 `com.sddzxy.app.myapp` 包中的 Activity）

## 修改文件

`src/com/android/launcher3/Launcher.java`

## 关键修改点

在 `Launcher` 类的 `onCreate()` 方法末尾添加启动目标 APK 的代码

## 代码修改内容

```diff
@@ -25,6 +25,7 @@ import static com.android.launcher3.LauncherState.NORMAL;
 import static com.android.launcher3.dragndrop.DragLayer.ALPHA_INDEX_LAUNCHER_LOAD;
 import static com.android.launcher3.logging.LoggerUtils.newContainerTarget;
 import static com.android.launcher3.logging.LoggerUtils.newTarget;
+import android.content.ComponentName;

 import android.animation.Animator;
 import android.animation.AnimatorListenerAdapter;
@@ -345,6 +346,13 @@ public class Launcher extends BaseDraggingActivity implements LauncherExterns,
         mRotationHelper.initialize();
 
         TraceHelper.endSection("Launcher-onCreate");
+
+        // +++ 添加开机启动指定 APK 的代码 +++
+        Intent intent = new Intent();
+        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
+        ComponentName comp = new ComponentName("com.sddzxy.app.myapp", "com.fliphtml5.app.fhreader.MainActivity");
+        intent.setComponent(comp);
+        startActivity(intent);
     }
```

## 代码说明

1. **启动时机**：在 Launcher 初始化完成后立即执行

2. **关键参数**：

   - `ComponentName`：指定目标应用的包名(`com.sddzxy.app.myapp`)和主 Activity(`com.fliphtml5.app.fhreader.MainActivity`)

   - `FLAG_ACTIVITY_NEW_TASK`：强制在新任务栈中启动

3. **执行效果**：系统启动后先闪现 Launcher，然后立即跳转到目标应用

## 实现效果

设备开机后将：

1. 短暂加载系统桌面（Launcher）

2. 自动跳转到指定应用的 MainActivity

3. 用户按 HOME 键仍会返回目标应用（需配合 Kiosk Mode 实现锁屏）
