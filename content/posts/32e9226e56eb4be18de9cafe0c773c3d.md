---
title: Android 15 MTK 平台设置中添加 FOTA 升级菜单
slug: 32e9226e56eb4be18de9cafe0c773c3d
tags:
  - android
date: 2026-01-26T03:16:37.943Z
---

## 修改概述

在自研 LCOS 系统的“设置”应用中，于“关于手机”页面添加 FOTA（固件无线升级）菜单入口，点击可跳转到系统更新应用（`com.jintaiyi.update.GoogleOtaClient`）。

## 修改详情

### 1. 添加中文字符串资源

**文件：** `system/vendor/lcos/openSource/LCOS_Settings/res/values-zh-rCN/strings.xml`

```diff
+    <string name="about_phone_system_update">"系统升级"</string>
```

### 2. 添加英文字符串资源（默认）

**文件：** `system/vendor/lcos/openSource/LCOS_Settings/res/values/strings.xml`

```diff
+ <string name="about_phone_system_update">"System Update"</string>

```

### 3. 在“关于手机”页面添加菜单项

**文件：** `system/vendor/lcos/openSource/LCOS_Settings/res_os/xml/lcos_device_version.xml`

```diff
--- a/system/vendor/lcos/openSource/LCOS_Settings/res_os/xml/lcos_device_version.xml
+++ b/system/vendor/lcos/openSource/LCOS_Settings/res_os/xml/lcos_device_version.xml
@@ -9,6 +9,16 @@
     <PreferenceCategory
         android:key="device_detail_category"
         android:selectable="false">
+        <!--adupsfota kte modified by <dengli>@<20240726> for <add fota>-->
+        <Preference
+            android:key="fota_update_settings"
+            android:title="@string/about_phone_system_update"
+            android:order="0"
+            settings:controller="com.android.settings.deviceinfo.FotaUpdatePreferenceController">
+        <intent
+            android:targetPackage="com.jintaiyi.update"
+            android:targetClass="com.jintaiyi.update.GoogleOtaClient"/>
+        </Preference>
         <!-- Android version -->
         <Preference
             android:key="os_firmware_version"
```

***

## 实现说明

- 菜单项位于“关于手机”页面的设备详情分类中，排序为第 0 位。

- 使用 `FotaUpdatePreferenceController` 作为控制器。

- 点击菜单项会启动 `com.jintaiyi.update/.GoogleOtaClient` 应用进行系统升级操作。
