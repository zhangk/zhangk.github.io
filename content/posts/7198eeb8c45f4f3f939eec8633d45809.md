---
title: Linux åˆ†å·å‹ç¼©ä¸è§£å‹æ“ä½œæŒ‡å—
slug: 7198eeb8c45f4f3f939eec8633d45809
tags:
  - linux
date: 2025-06-10T02:38:08.255Z
---

## ğŸ“¦ åˆ†å·å‹ç¼©å‘½ä»¤

### å°†ç›®å½•åˆ†å‰²ä¸ºå¤šä¸ª 1GB çš„å‹ç¼©åŒ…

```bash
tar czf - bsp_dir | split -b 1G - bsp.tar.gz
```

**å‘½ä»¤è§£æ**ï¼š

- `tar czf - bsp_dir`ï¼š

  - `c` åˆ›å»ºå‹ç¼©åŒ…

  - `z` ä½¿ç”¨ gzip å‹ç¼©

  - `f -` è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º

- `|` ç®¡é“ä¼ é€’ç»™ split

- `split -b 1G - bsp.tar.gz`ï¼š

  - `-b 1G` æ¯å—å¤§å° 1GB

  - `-` ä»æ ‡å‡†è¾“å…¥è¯»å–

  - `bsp.tar.gz` ç”Ÿæˆæ–‡ä»¶å‰ç¼€

**ç”Ÿæˆæ–‡ä»¶**ï¼š

```text
bsp.tar.gzaa
bsp.tar.gzab
bsp.tar.gzac
...
```

***

## ğŸ“¤ è§£å‹æ“ä½œæ­¥éª¤

### 1. åˆå¹¶åˆ†å‰²æ–‡ä»¶

```bash
cat bsp.tar.gz* >> bsp.tar.gz
```

**æ³¨æ„**ï¼š

- ç¡®ä¿æ‰€æœ‰åˆ†å·æ–‡ä»¶åœ¨åŒä¸€ç›®å½•

- é€šé…ç¬¦ `*` ä¼šæŒ‰å­—æ¯é¡ºåºåˆå¹¶æ‰€æœ‰åˆ†å·

### 2. è§£å‹ gzip å‹ç¼©åŒ…

```bash
gunzip bsp.tar.gz
```

**ç»“æœ**ï¼šç”Ÿæˆ `bsp.tar` æ–‡ä»¶

### 3. è§£å‹ tar å½’æ¡£æ–‡ä»¶

```bash
tar xvf bsp.tar
```

**å‚æ•°è¯´æ˜**ï¼š

- `x` è§£å‹

- `v` æ˜¾ç¤ºè¿‡ç¨‹

- `f` æŒ‡å®šæ–‡ä»¶

***

## ğŸ§© å®Œæ•´æµç¨‹ç¤ºä¾‹

### å‹ç¼©æµç¨‹

```bash
# å‹ç¼© bsp_project ç›®å½•ä¸º 2GB åˆ†å·
tar czf - bsp_project | split -b 2G - project.tar.gz
```

### è§£å‹æµç¨‹

```bash
# åˆå¹¶åˆ†å· (å‡è®¾ç”Ÿæˆ aa ab ä¸¤ä¸ªæ–‡ä»¶)
cat project.tar.gz* >> full.tar.gz

# è§£å‹ gz
gunzip full.tar.gz

# è§£å‹ tar
tar xvf full.tar
```

***

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

1. **åˆ†å·æ–‡ä»¶é¡ºåº**\
   å¿…é¡»æŒ‰å­—æ¯é¡ºåºåˆå¹¶ï¼š`aa â†’ ab â†’ ac â†’ ...`

2. **ç£ç›˜ç©ºé—´**\
   åˆå¹¶å’Œè§£å‹éœ€è¦**åŒå€ç£ç›˜ç©ºé—´**ï¼š

   - åˆå¹¶åçš„å®Œæ•´å‹ç¼©åŒ…

   - è§£å‹åçš„åŸå§‹æ–‡ä»¶

3. **å®Œæ•´æ€§éªŒè¯**\
   è§£å‹å‰æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§ï¼š

   ```bash
   # æ£€æŸ¥åˆå¹¶åçš„ gz æ–‡ä»¶
   gzip -t full.tar.gz
   ```

4. **å¤§æ–‡ä»¶å¤„ç†æŠ€å·§**\
   ç›´æ¥è§£å‹ä¸åˆå¹¶ï¼ˆèŠ‚çœç£ç›˜ç©ºé—´ï¼‰ï¼š

   ```bash
   cat bsp.tar.gz* | tar xzvf -
   ```

***

## ğŸ’¡ æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨ `zip`

### åˆ†å·å‹ç¼©

```bash
zip -r -s 1g bsp.zip bsp_dir
```

ç”Ÿæˆ `bsp.zip.001`, `bsp.zip.002`...

### åˆå¹¶è§£å‹

```bash
zip -s 0 bsp.zip --out full.zip && unzip full.zip
```

> **ğŸ“Œ å»ºè®®**ï¼š`tar+split` æ›´é€šç”¨ï¼Œ`zip` åœ¨ Windows å…¼å®¹æ€§æ›´å¥½

***

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

**é—®é¢˜**ï¼š`gunzip` æŠ¥ "unexpected end of file"\
**è§£å†³**ï¼šåˆ†å·åˆå¹¶ä¸å®Œæ•´ â†’ é‡æ–°ä¼ è¾“æ‰€æœ‰åˆ†å·

**é—®é¢˜**ï¼š`tar` æŠ¥ "file changed as we read it"\
**è§£å†³**ï¼šå‹ç¼©è¿‡ç¨‹ä¸­æ–‡ä»¶è¢«ä¿®æ”¹ â†’ é‡æ–°å‹ç¼©

**é—®é¢˜**ï¼šè§£å‹åæ–‡ä»¶åä¹±ç \
**è§£å†³**ï¼šæ·»åŠ å­—ç¬¦é›†å‚æ•°ï¼š

```bash
tar xvf bsp.tar --charset=UTF-8
```

***

> **ğŸ“ å…³è”å‘½ä»¤é€ŸæŸ¥**
>
> - æŸ¥çœ‹åˆ†å·å¤§å°ï¼š`du -sh bsp.tar.gz*`
>
> - ç»Ÿè®¡åˆ†å·æ•°é‡ï¼š`ls bsp.tar.gz* | wc -l`
>
> - éªŒè¯åˆå¹¶å®Œæ•´æ€§ï¼š`md5sum full.tar.gz`
